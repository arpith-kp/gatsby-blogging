<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.0c0e1d8669698ada8e0b.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.command-line-prompt>span:before{color:#999;content:" ";display:block;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}.gatsby-code-title,.gatsby-highlight{font-size:small;position:relative}.gatsby-code-title{display:block;background:#272822;width:100%;top:10px;border-top-left-radius:.3em;border-top-right-radius:.3em}.gatsby-code-title span{display:inline;position:relative;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;color:#eee;background:#777;border-top-left-radius:.3em;border-bottom-right-radius:.3em;padding:3px}.wmde-markdown{font-size:16px;line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}.wmde-markdown>:first-child{margin-top:0!important}.wmde-markdown>:last-child{margin-bottom:0!important}.wmde-markdown code[class*=language-],.wmde-markdown pre[class*=language-]{color:#000;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.wmde-markdown pre code{background:none;overflow-wrap:normal;white-space:inherit;-moz-tab-size:2;-o-tab-size:2;tab-size:2;padding:16px;font-size:95%;line-height:1.5;display:block;text-shadow:0 1px #fff}.wmde-markdown pre{margin-bottom:18px;font-size:85%;line-height:1.45;position:relative;overflow-x:auto;background-color:#f6f8fa;border-radius:3px}.wmde-markdown code,.wmde-markdown tt{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em .4em}.wmde-markdown code,.wmde-markdown pre,.wmde-markdown tt{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace}.wmde-markdown img{max-width:100%}.wmde-markdown input{vertical-align:middle;margin:0 .2em .25em -1.6em}.wmde-markdown h1,.wmde-markdown h2{border-bottom:1px solid #eaecef;padding-bottom:.3em}.wmde-markdown h1,.wmde-markdown h2,.wmde-markdown h3,.wmde-markdown h4,.wmde-markdown h5,.wmde-markdown h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.wmde-markdown h1{font-size:2em}.wmde-markdown h2{font-size:1.5em}.wmde-markdown h3{font-size:1.25em}.wmde-markdown h4{font-size:1em}.wmde-markdown h5{font-size:.875em}.wmde-markdown h6{font-size:.85em}.wmde-markdown ol,.wmde-markdown ul{padding-left:2em}.wmde-markdown ul{margin-bottom:16px;margin-top:0;list-style:initial}.wmde-markdown>blockquote,.wmde-markdown>blockquote blockquote{margin:0;border-left:.25em solid #dfe2e5;color:#6a737d;padding:0 1em}.wmde-markdown>blockquote>:last-child,.wmde-markdown>blockquote blockquote>:last-child{margin-bottom:0}.wmde-markdown>blockquote>:first-child,.wmde-markdown>blockquote blockquote>:first-child{margin-top:0}.wmde-markdown hr{margin:1.5em auto;border:0;border-top:2px dotted #eee;height:1px}.wmde-markdown>blockquote table,.wmde-markdown>table{display:block;overflow:auto;width:100%;border-collapse:collapse;border-spacing:0;font-size:14px}.wmde-markdown>blockquote table tr,.wmde-markdown>table tr{background-color:#fff;border-top:1px solid #c6cbd1}.wmde-markdown>blockquote table td,.wmde-markdown>blockquote table th,.wmde-markdown>table td,.wmde-markdown>table th{border:1px solid #dfe2e5;padding:6px 13px}.wmde-markdown blockquote,.wmde-markdown details,.wmde-markdown dl,.wmde-markdown ol,.wmde-markdown p,.wmde-markdown pre,.wmde-markdown table,.wmde-markdown ul{margin-bottom:16px;margin-top:0}.wmde-markdown a{color:#0366d6;text-decoration:none}.wmde-markdown a:hover{text-decoration:underline}.wmde-markdown .namespace{opacity:.7}.wmde-markdown .token.important{font-weight:400}.wmde-markdown .token.bold{font-weight:700}.wmde-markdown .token.italic{font-style:italic}.wmde-markdown .token.entity{cursor:help}.wmde-markdown-color .token.tag .attr-value{color:#032f62}.wmde-markdown-color .token.boolean,.wmde-markdown-color .token.constant,.wmde-markdown-color .token.deleted,.wmde-markdown-color .token.function-name,.wmde-markdown-color .token.number,.wmde-markdown-color .token.property,.wmde-markdown-color .token.symbol,.wmde-markdown-color .token.tag{color:#0060c9}.wmde-markdown-color .token.punctuation{color:#a0a0a0}.wmde-markdown-color code[class*=language-]{color:#000}.wmde-markdown-color code[class*=language-] .token.attr-name,.wmde-markdown-color code[class*=language-] .token.builtin,.wmde-markdown-color code[class*=language-] .token.char,.wmde-markdown-color code[class*=language-] .token.function,.wmde-markdown-color code[class*=language-] .token.selector,.wmde-markdown-color code[class*=language-] .token.string{color:#6f42c1}.wmde-markdown-color code[class*=language-] .token.inserted{color:#22863a;background-color:#f0fff4}.wmde-markdown-color code[class*=language-] .token.deleted{color:#b31d28;background-color:#ffeef0}.wmde-markdown-color code[class*=language-] .token.class-name{color:#6f42c1}.wmde-markdown-color code[class*=language-] .code-block{color:#032f62}.wmde-markdown-color code[class*=language-] .token.block-comment,.wmde-markdown-color code[class*=language-] .token.cdata,.wmde-markdown-color code[class*=language-] .token.comment,.wmde-markdown-color code[class*=language-] .token.doctype,.wmde-markdown-color code[class*=language-] .token.prolog{color:#7d8b99}.wmde-markdown-color code[class*=language-] .token.punctuation{color:#a0a0a0}.wmde-markdown-color code[class*=language-] .token.entity,.wmde-markdown-color code[class*=language-] .token.operator,.wmde-markdown-color code[class*=language-] .token.url,.wmde-markdown-color code[class*=language-] .token.variable{color:#d73a49;background:hsla(0,0%,100%,.5)}.wmde-markdown-color code[class*=language-] .token.atrule,.wmde-markdown-color code[class*=language-] .token.attr-value{color:#004698}.wmde-markdown-color code[class*=language-] .token.keyword{color:#d63200}.wmde-markdown-color code[class*=language-] .token.important,.wmde-markdown-color code[class*=language-] .token.regex{color:#e90}.wmde-markdown-color code[class*=language-] .token.string{color:#0a53c1}.w-md-editor-aree{overflow:auto;border-radius:5px}.w-md-editor-text{min-height:100%;position:relative;text-align:left;white-space:pre-wrap;word-break:keep-all;overflow-wrap:break-word;box-sizing:border-box;padding:10px;margin:0;font-size:14px;line-height:18px;font-variant-ligatures:common-ligatures}.w-md-editor-text-input,.w-md-editor-text-pre,.w-md-editor-text>.w-md-editor-text-pre{margin:0;border:0;background:none;box-sizing:inherit;display:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-variant-ligatures:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;-moz-tab-size:inherit;-o-tab-size:inherit;tab-size:inherit;text-indent:inherit;text-rendering:inherit;text-transform:inherit;white-space:inherit;overflow-wrap:inherit;word-break:inherit;word-break:normal;padding:0}.w-md-editor-text-pre{position:relative;pointer-events:none}.w-md-editor-text-input{position:absolute;top:0;left:0;height:100%;width:100%;resize:none;color:inherit;overflow:hidden;outline:0;padding:10px;-webkit-font-smoothing:antialiased;-webkit-text-fill-color:transparent}.w-md-editor-text-input:empty{-webkit-text-fill-color:inherit!important}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.w-md-editor-text-input{color:transparent!important}.w-md-editor-text-input::selection{background-color:#accef7!important;color:transparent!important}}.w-md-editor-text-pre{color:#333}.w-md-editor-text-pre .table .punctuation{color:#c3c3c3}.w-md-editor-text-pre .table .table-header{color:#000}.w-md-editor-text-pre .url{color:#032f62}.w-md-editor-text-pre .url .content{color:#0366d6;text-decoration:underline}.w-md-editor-text-pre .hr{color:#999}.w-md-editor-text-pre .blockquote{color:#a6a6a6}.w-md-editor-text-pre .bold,.w-md-editor-text-pre .title{color:#000}.w-md-editor-toolbar-child{position:absolute;border-radius:3px;box-shadow:0 0 0 1px rgba(16,22,26,.1),0 0 0 rgba(16,22,26,0),0 1px 1px rgba(16,22,26,.2);background-color:#fff;z-index:1;display:none}.w-md-editor-toolbar-child.active{display:block}.w-md-editor-toolbar-child .w-md-editor-toolbar{border-bottom:0;padding:3px;border-radius:3px}.w-md-editor-toolbar-child .w-md-editor-toolbar ul>li{display:block}.w-md-editor-toolbar-child .w-md-editor-toolbar ul>li button{width:-webkit-fill-available;height:auto;box-sizing:border-box;padding:3px 4px 2px;margin:0}.w-md-editor-toolbar{border-bottom:1px solid #dfdfe0;background-color:#fbfbfb;padding:4px 2px 4px 5px;border-radius:3px 3px 0 0;-webkit-user-select:none;-ms-user-select:none;user-select:none}.w-md-editor-toolbar li,.w-md-editor-toolbar ul{margin:0;padding:0;list-style:none}.w-md-editor-toolbar li{display:inline-block;font-size:14px}.w-md-editor-toolbar li>button{border:none;height:20px;line-height:14px;background:none;color:#586069;padding:4px;margin:0 1px;border-radius:2px;text-transform:none;font-weight:400;overflow:visible;outline:none;cursor:pointer;transition:all .3s}.w-md-editor-toolbar li>button:hover{color:#06c;background-color:#dcdcdc}.w-md-editor-toolbar li>button:active{color:#6a57ff;background-color:#dcdcdc}.w-md-editor-toolbar li>button:disabled{color:#ccc;cursor:not-allowed}.w-md-editor-toolbar li>button:disabled:hover{background-color:transparent;color:#ccc}.w-md-editor-toolbar li.active>button{color:#06c;background-color:#e8e8e8}.w-md-editor-toolbar-divider{height:14px;width:1px;margin:-3px 3px 0!important;vertical-align:middle;background-color:#ccc}.w-md-editor-bar{position:absolute;cursor:s-resize;right:0;margin-top:-11px;margin-right:0;width:14px;z-index:3;height:10px;border-radius:0 0 3px 0;-webkit-user-select:none;-ms-user-select:none;user-select:none}.w-md-editor-bar svg{display:block;margin:0 auto}.w-md-editor{color:#24292e;text-align:left;box-shadow:0 0 0 1px rgba(16,22,26,.1),0 0 0 rgba(16,22,26,0),0 1px 1px rgba(16,22,26,.2);border-radius:3px;position:relative;background-color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.w-md-editor-content{position:relative;border-radius:0 0 3px 0;height:calc(100% - 39.1px)}.w-md-editor-input{width:50%;height:100%}.w-md-editor-preview{width:50%;box-sizing:border-box;box-shadow:inset 1px 0 0 0 #dfdfe0;position:absolute;padding:10px 20px;overflow:auto;top:0;right:0;bottom:0}.w-md-editor-show-preview .w-md-editor-input{width:0;overflow:hidden;background-color:#fdfdfd}.w-md-editor-show-preview .w-md-editor-preview{width:100%;box-shadow:inset 0 0 0 0}.w-md-editor-show-edit .w-md-editor-input{width:100%}.w-md-editor-show-edit .w-md-editor-preview{width:0;padding:0}.w-md-editor-fullscreen{overflow:hidden;position:fixed;z-index:9999;top:0;left:0;right:0;bottom:0}.w-md-editor-fullscreen .w-md-editor-content{height:100%}</style><meta name="generator" content="Gatsby 3.2.1"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{all:inherit;bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style data-styled="jotCnm kyCvbW kuCwyi fJqhSO jJiyzt kfwTji hIzUoR eUReiF fCgTeH fQTovr gcpYHa doNAbE fbjpyw gXMRqI nZKJM" data-styled-version="4.4.1">
/* sc-component-id: sc-bdVaJa */
.gXMRqI{box-sizing:border-box;display:block;} @media (min-width:0px){.gXMRqI{padding-left:8px;padding-right:8px;}} @media (min-width:480px){.gXMRqI{padding-left:12px;padding-right:12px;}} @media (min-width:768px){.gXMRqI{padding-left:16px;padding-right:16px;}} @media (min-width:992px){} @media (min-width:1280px){} @media (min-width:0px){.gXMRqI{display:block;width:50%;}}
/* sc-component-id: sc-bwzfXH */
.fbjpyw{box-sizing:border-box;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;} @media (min-width:0px){.fbjpyw{margin-left:-8px;margin-right:-8px;max-width:calc(100% + 16px);}} @media (min-width:480px){.fbjpyw{margin-left:-12px;margin-right:-12px;max-width:calc(100% + 24px);}} @media (min-width:768px){.fbjpyw{margin-left:-16px;margin-right:-16px;max-width:calc(100% + 32px);}} @media (min-width:992px){} @media (min-width:1280px){} @media (min-width:0px){} @media (min-width:480px){} @media (min-width:768px){} @media (min-width:992px){} @media (min-width:1280px){}
/* sc-component-id: grid__Container-sc-1l7p9tf-0 */
.hIzUoR{-webkit-flex:1;-ms-flex:1;flex:1;margin:auto;width:100%;max-width:42rem;padding:0 1rem;}
/* sc-component-id: stylescss__Title-rezkm6-2 */
.fCgTeH{margin-top:0.5em;margin-bottom:0.5em;}
/* sc-component-id: stylescss__Author-rezkm6-3 */
.eUReiF{color:#999;margin-bottom:0;font-size:0.8rem;display:inline-block;margin-right:2em;} .eUReiF a{color:inherit;}
/* sc-component-id: stylescss__DateText-rezkm6-4 */
.fQTovr{color:#999;margin-bottom:0;font-size:0.8rem;display:inline-block;margin-right:2em;text-transform:uppercase;-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;font-size:0.6em;} .fQTovr a{color:inherit;} .fQTovr:after{content:"";width:1em;display:inline-block;border-top:1px solid #ddd;margin-left:2em;position:relative;top:-2px;}
/* sc-component-id: stylescss__Category-rezkm6-5 */
.gcpYHa{color:#999;margin-bottom:0;font-size:0.8rem;display:inline-block;margin-right:2em;text-align:right;text-transform:uppercase;-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;font-size:0.6em;} .gcpYHa a{color:inherit;}
/* sc-component-id: stylescss__BlogContent-rezkm6-14 */
.doNAbE{margin:6em 0;}
/* sc-component-id: stylescss__NavigationPost-rezkm6-15 */
.nZKJM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:5em;padding-top:3em;border-top:1px solid #eee;} .nZKJM > div{margin:auto;}
/* sc-component-id: NavbarLinks__NavItem-vvgoys-0 */
.kfwTji{-webkit-text-decoration:none;text-decoration:none;color:#111;display:inline-block;white-space:nowrap;margin:0 1vw;-webkit-transition:all 200ms ease-in;transition:all 200ms ease-in;position:relative;} .kfwTji:after{position:absolute;bottom:0;left:0;right:0;width:0%;content:".";color:transparent;background:goldenrod;height:1px;-webkit-transition:all 0.4s ease-in;transition:all 0.4s ease-in;} .kfwTji:hover{color:goldenrod;} .kfwTji:hover::after{width:100%;} @media (max-width:768px){.kfwTji{padding:20px 0;font-size:1.5rem;z-index:6;}}
/* sc-component-id: Logo__LogoWrap-sc-105imxz-0 */
.kyCvbW{margin:auto 0;-webkit-flex:0 1 36px;-ms-flex:0 1 36px;flex:0 1 36px;} @media (max-width:1000px) and (orientation:landscape){.kyCvbW{-webkit-flex:0 1 100px;-ms-flex:0 1 100px;flex:0 1 100px;}}
/* sc-component-id: Navbar__Navigation-fgl3pa-0 */
.jotCnm{height:10vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background-color:#fff;position:relative;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;text-transform:uppercase;border-bottom:2px solid #33333320;margin:0 auto;padding:0 5vw;z-index:2;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;} @media (max-width:768px){.jotCnm{position:-webkit-sticky;position:sticky;height:8vh;top:0;left:0;right:0;left:0;}}
/* sc-component-id: Navbar__Toggle-fgl3pa-1 */
.kuCwyi{display:none;height:100%;cursor:pointer;padding:0 10vw;} @media (max-width:768px){.kuCwyi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}
/* sc-component-id: Navbar__Navbox-fgl3pa-2 */
.jJiyzt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} @media (max-width:768px){.jJiyzt{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:fixed;width:100%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding-top:10vh;background-color:#fff;-webkit-transition:all 0.3s ease-in;transition:all 0.3s ease-in;top:8vh;left:-100%;}}
/* sc-component-id: Navbar__Hamburger-fgl3pa-3 */
.fJqhSO{background-color:#111;width:30px;height:3px;-webkit-transition:all .3s linear;transition:all .3s linear;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;position:relative;-webkit-transform:inherit;-ms-transform:inherit;transform:inherit;} .fJqhSO::before,.fJqhSO::after{width:30px;height:3px;background-color:#111;content:"";position:absolute;-webkit-transition:all 0.3s linear;transition:all 0.3s linear;} .fJqhSO::before{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);top:-10px;} .fJqhSO::after{opacity:1;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);top:10px;}</style><title data-react-helmet="true">GraphQl with Node | My personal blog</title><meta data-react-helmet="true" name="description" content="Nostrud est duis proident ut dolore ipsum tempor Lorem."/><meta data-react-helmet="true" property="og:title" content="GraphQl with Node"/><meta data-react-helmet="true" property="og:description" content="Nostrud est duis proident ut dolore ipsum tempor Lorem."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="danilowoz"/><meta data-react-helmet="true" name="twitter:title" content="GraphQl with Node"/><meta data-react-helmet="true" name="twitter:description" content="Nostrud est duis proident ut dolore ipsum tempor Lorem."/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link as="script" rel="preload" href="/webpack-runtime-3333e8ab259f48c19467.js"/><link as="script" rel="preload" href="/framework-3c26376ed704cd649e00.js"/><link as="script" rel="preload" href="/app-c05afb588dc1e9590bb7.js"/><link as="script" rel="preload" href="/f6e0bb3a358b46c2ad9b70959ca2d55f69ab015e-2147d70615c3c7ba9008.js"/><link as="script" rel="preload" href="/3a13ebcfb8a23568fbb000898e86c76a80037eea-f8855085553a27333b4a.js"/><link as="script" rel="preload" href="/component---src-layouts-blog-post-js-885b84dd9cc9c3648eb2.js"/><link as="fetch" rel="preload" href="/page-data/blog/2021/03/30/graphql_node/graphql_with_node/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2691016790.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="Navbar__Navigation-fgl3pa-0 jotCnm"><a class="Logo__LogoWrap-sc-105imxz-0 kyCvbW" href="/"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACg0lEQVQ4y4VUO2hUQRSdXUh88z6zH7MbFlZNE0W0FEtL6/UTZSXRRkyhYEirjdr5CwgK2ikGLbRTC0FQTGEhaGlAUFNEtBeCu/uOZ2ZnNrOzAYvDvM+955479yOklMIhjuMioZ/12SIeEl+Jv0SH+EE8JdpEpG2dj4PwXgr2PEx8JvAfrBIz2ieKooG/UZYkiSO75Dl0raoekXvoWDi729qXHIbUSLbpXrYGPeuQ2/c8gPvWtdDvd1yWwkvTkfUCIj5LSBmZcwtip3bWpMz8i96ddUKyJImhVAXlUgNZVnKk8EidyjVC6TtseT8GqfE7yRJsG48hRJmooygqtMv8wuSBkHmd7qMt1Bmy8bEY+/cdwLWrS7h18wFOz11EmjSgg/WVytwqdirfCNtn8KppoqusSlUKc7PzWP3yDUdbi1h5/wmLC1dQoFKlagxqFPt3+kfYpvXuTUdMSDhBxzJOtc/i3duPmGoewauXH3Dj+n0GavBOm8jSOknLfoEgRguR0EihpHhnhSpOnjiH9fWfeP7sNe7dfYKpHYeY9i4WaJLnhFUohwi/j1Q2VlRYo0KF48fOYPnxC6qaRjS2F7GsIU2rtE8thtpoQ9jZHC0Kq5nEVdS278bO5kFUSntQrUxTVcVcyWZRhlpnRbdN2yMcRJOxbhu2iGTvyTpKGdNMJ436PuFQ27g6LGjCyA66Hynf7LWkT2zSkyZQYOMm6zdRc6M3EzR3UHUZTohv49Rd0DvB7D67HJa81LvBNITLwSlzZMtD+9CuHmG3BgLiPCDvekSGzO7DoW1TsJta2K2xFizTUJ3GL+K851fYamO7Rav0oOvZ1OPkkWzo1tDV1AXwF6vj+QdU5Yd9xl+tWgAAAABJRU5ErkJggg==" alt="logo" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/b33f7a675bc05cbe18e01b22430ae314/9fb4c/logos.png 200w,
/static/b33f7a675bc05cbe18e01b22430ae314/d60c9/logos.png 400w,
/static/b33f7a675bc05cbe18e01b22430ae314/881e9/logos.png 618w" sizes="(max-width: 618px) 100vw, 618px" /><img loading="lazy" sizes="(max-width: 618px) 100vw, 618px" srcset="/static/b33f7a675bc05cbe18e01b22430ae314/9fb4c/logos.png 200w,
/static/b33f7a675bc05cbe18e01b22430ae314/d60c9/logos.png 400w,
/static/b33f7a675bc05cbe18e01b22430ae314/881e9/logos.png 618w" src="/static/b33f7a675bc05cbe18e01b22430ae314/881e9/logos.png" alt="logo" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a><div class="Navbar__Toggle-fgl3pa-1 kuCwyi"><div class="Navbar__Hamburger-fgl3pa-3 fJqhSO"></div></div><div open="" class="Navbar__Navbox-fgl3pa-2 jJiyzt"><a class="NavbarLinks__NavItem-vvgoys-0 kfwTji" href="/about">About</a></div></nav><main><div class="grid__Container-sc-1l7p9tf-0 hIzUoR"><p class="stylescss__Author-rezkm6-3 eUReiF">By<!-- --> <a href="/blog/author/admin">admin</a></p><h2 class="stylescss__Title-rezkm6-2 fCgTeH">GraphQl with Node</h2><p class="stylescss__DateText-rezkm6-4 fQTovr">2021 / 3 / 30</p><p class="stylescss__Category-rezkm6-5 gcpYHa"><a href="/blog/category/graph-ql">GraphQl</a> <!-- -->&amp;<!-- --> <a href="/blog/category/node">Node</a></p><div class="stylescss__BlogContent-rezkm6-14 doNAbE"><h1>Build GraphQL APIs using Node.</h1>

        <div class="gatsby-code-title">
          <span>package.json</span>
        </div>
       
<p>In this article, you will learn about GraphQL and building APIs with GraphQL using Node.</p>
<h2>What is GraphQL</h2>
<ul>
<li>
<p>A query language service that sits between frontend and backend abstracting how multiple frontend client applications interacting with multiple server applications.</p>
<p align="center">  <img width="400" height="200" src="https://drive.google.com/uc?export=view&amp;id=1oqb7WAtEzHVOvkYMmJXH6OVW8xqAYiaj">  </p>
</li>
</ul>
<h2>Why we should use GraphQL over Rest API</h2>
<p>Imagine we have UI who wants to query <strong><em>User</em></strong> information like name, email, last purchased items, and recommended items. </p>
<ul>
<li>A typical Rest requests involves multiple API calls between client and server:</li>
</ul>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"> 1. Get User Information: 
  /api/v1/users?id=XYZ
  {   name: ABC, email: abc@gmail.com, purchase_user_id: 123, recommended_user_item: 456   }
     
 2. Get Purchase Items:
   /api/v1/purchases?purchase_user_id=123
   { &lt;Purchase Items&gt; } 
   
3. Get Recommended Items:
  /api/v1/recommendations?recommended_user_itme=456
  { &lt;Recommended Items&gt; }</code></pre></div>
<ul>
<li>With GraphQL same results can be achieved in a single request. We will be learning about how to write such queries in the next modules</li>
</ul>
<p>This will eventually save request/response time, no over/under data fetched and the size of the payload reduces significantly.</p>
<h2>GraphQL Editor</h2>
<p>There are many GraphQL editors which provide an in-browser playground to interact with GraphQL queries. Here are some of few good editors you could try </p>
<ul>
<li><a href="https://support.insomnia.rest/article/156-installation">Insomnia</a>: Similar to Postman Rest Client</li>
<li><a href="https://graphql.org/swapi-graphql">GraphiQL</a>: An In-browser editor</li>
</ul>
<p>We will be using GraphiQL available online to learn GraphQL basics and later in the article we will use the same editor locally with our React application. </p>
<p>GraphIQL has four main component </p>
<ol>
<li>Workspace area to write our queries.</li>
<li>Query Variables area to pass any user input arguments to be used in queries.</li>
<li>Output area to view results.</li>
<li>Documentation area which shows available fields and their types we can query on.</li>
</ol>
<p align="center">  <img width="800" height="400" src="https://drive.google.com/uc?export=view&amp;id=16LDWfphbmjPF1ZsJi67R1jbOzX9rpNB-">  </p>
<h2>GraphQL Basics</h2>
<p>We will learn the below concepts in GraphQL using the <a href="https://graphql.org/swapi-graphql">Star Wars GraphQL schema</a>. </p>
<ul>
<li><a href="#fields">Fields</a></li>
<li><a href="#variables">Variables</a></li>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#directives">Directives</a></li>
<li><a href="#aliases">Aliases</a></li>
<li><a href="#fragments">Fragments</a></li>
<li><a href="#mutations">Mutations</a></li>
<li><a href="#interfaces">Interfaces</a></li>
</ul>
<p>For our understanding, we will be using the following example <strong>(A)</strong> query.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">query GetAllFilms<span class="token punctuation">{</span>
  allFilms(last<span class="token operator">:</span><span class="token number">3</span>) <span class="token punctuation">{</span>
    films <span class="token punctuation">{</span>
      title
      episodeID
      openingCrawl
      director
      producers
      releaseDate
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Fields</h3>
<p>GraphQL is all about asking for specific fields of an object. It could be a simple scalar field or complex type.</p>
<p>In our example <strong>(A)</strong> some of the Scalar fields are <em>title, episodeID</em> and Complex type are <em>allFilms, films</em>.</p>
<h3>Arguments</h3>
<p>GraphQL has the ability to pass arguments to fields. But unlike REST every field and nested object can have its own set of arguments, avoiding multiple API fetches.</p>
<p>In our example  <strong>(A)</strong> <em>last</em> 3 tells us we are only interested in the last 3 films with mentioned fields.</p>
<h3>Aliases</h3>
<p>If we need to query the same field with different arguments, aliases help us to rename the result of a field to anything we want.</p>
<p>In the example below, <strong><em>alias</em></strong> <em>filmA</em> and <em>filmB</em> are used to differentiate between film names.</p>
<blockquote>
<p><strong>Input</strong></p>
</blockquote>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">{</span>
  filmA: film<span class="token punctuation">(</span>id: <span class="token string">"ZmlsbXM6NA=="</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    titleA: title
  <span class="token punctuation">}</span>
  filmB: film<span class="token punctuation">(</span>id: <span class="token string">"ZmlsbXM6NQ=="</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    titleB: title
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<blockquote>
<p><strong>Output</strong></p>
</blockquote>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">{</span>
  <span class="token string">"data"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">"fileA"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
      <span class="token string">"titleA"</span><span class="token builtin class-name">:</span> <span class="token string">"The Phantom Menace"</span>
    <span class="token punctuation">}</span>,
    <span class="token string">"fileB"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
      <span class="token string">"titleB"</span><span class="token builtin class-name">:</span> <span class="token string">"Attack of the Clones"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>In this example, we used the same field film with multiple arguments and used aliases to differentiate the results</p>
<h3>Fragments</h3>
<p>Fragments let you reuse repetitive fields by separating out into smaller chunks and reuse them in multiple queries.</p>
<p>In the example below, we separated out common fields as fragments and reused them in queries using
... &#x3C; FragmentName>.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  filmA<span class="token operator">:</span> film(id<span class="token operator">:</span> <span class="token string">"ZmlsbXM6NA=="</span>) <span class="token punctuation">{</span>
    ...metaData
  <span class="token punctuation">}</span>
  filmB<span class="token operator">:</span> film(id<span class="token operator">:</span> <span class="token string">"ZmlsbXM6NQ=="</span>) <span class="token punctuation">{</span>
    ...metaData
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

fragment metaData on Film <span class="token punctuation">{</span>
  episodeID
  openingCrawl
  director
  producers
  releaseDate
<span class="token punctuation">}</span></code></pre></div>
<h3>Variables</h3>
<p>We can pass dynamic values as arguments to fields.  GraphQL factors dynamic values out of the query and passes them as a dictionary. </p>
<p>Now instead of hardcoding values within a query, we can reuse the query by making it generic to receive value from the variable. Since GraphQL is strongly typed, we must provide the type of input variable which should match its original field type we are querying on. Type <strong>String!</strong> indicates that input is a required variable marked by <strong><em>!</em></strong> symbol.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token comment">// Instead of hardcoding in query:</span>

query FilmQuery<span class="token punctuation">{</span>
  filmA<span class="token operator">:</span> film(id<span class="token operator">:</span> <span class="token string">"ZmlsbXM6NA=="</span>) <span class="token punctuation">{</span>
    titleA<span class="token operator">:</span> title
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Replace it as follows:</span>

query FilmQuery($filmid<span class="token operator">:</span> ID!)<span class="token punctuation">{</span>
  filmA<span class="token operator">:</span> film(id<span class="token operator">:</span> $filmid) <span class="token punctuation">{</span>
    titleA<span class="token operator">:</span> title
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// In Query Variable section we can pass value to filmid as:</span>

<span class="token punctuation">{</span>
   <span class="token property">"filmid"</span><span class="token operator">:</span> <span class="token string">"ZmlsbXM6NA=="</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Directives</h3>
<p>Imagine we want to render a portion of the component in the UI based on certain conditions in the query, directive comes in handy in this place where we can alter GraphQL runtime execution and commonly used with variables. Built-in directives supported by the GraphQL server are <strong>@include</strong>  and <strong>@skip</strong>.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">query FilmConnectionsQuery($filmid<span class="token operator">:</span> ID!<span class="token punctuation">,</span> $withVehicle<span class="token operator">:</span> Boolean!) <span class="token punctuation">{</span>
  film(id<span class="token operator">:</span> $filmid) <span class="token punctuation">{</span>
    title
    vehicleConnection @include(if<span class="token operator">:</span> $withVehicle) <span class="token punctuation">{</span>
      vehicles <span class="token punctuation">{</span>
        name
        model
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Query Input</span>
<span class="token punctuation">{</span>
  <span class="token property">"filmid"</span><span class="token operator">:</span> <span class="token string">"ZmlsbXM6NA=="</span><span class="token punctuation">,</span>
  <span class="token property">"withVehicle"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

<span class="token comment">// Based on condition withVehicle true/false, </span>
<span class="token comment">// we get a response back including/excluding vehicle info.</span>

<span class="token comment">// With vehicle</span>
<span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"film"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"The Phantom Menace"</span><span class="token punctuation">,</span>
      <span class="token property">"vehicleConnection"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"vehicles"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Vulture Droid"</span><span class="token punctuation">,</span>
            <span class="token property">"model"</span><span class="token operator">:</span> <span class="token string">"Vulture-class droid starfighter"</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>...          
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Without the vehicle</span>
<span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"film"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"The Phantom Menace"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Mutations</h3>
<p>Operations that cause write (create, update and delete) data on the server side should be sent explicitly as mutations in GraphQL. </p>
<p>Currently, mutation is not supported in our demo playground API but we will learn more about it in the demo applications we will build.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">mutation addFilm($title<span class="token operator">:</span> String!<span class="token punctuation">,</span> $episodeId<span class="token operator">:</span> Int!) <span class="token punctuation">{</span>
  addFilm(title<span class="token operator">:</span> $title<span class="token punctuation">,</span> episodeId<span class="token operator">:</span> $episodeId) <span class="token punctuation">{</span>
    eposideId
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Interfaces</h3>
<p>An interface is an abstract type that includes a predefined set of fields that a type must include to implement an interface.</p>
<p>Currently mutation is not supported in our demo playground API but we will learn more about it in demo applications we will build.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">interface Character <span class="token punctuation">{</span>
  id<span class="token operator">:</span> ID!
  name<span class="token operator">:</span> String!
  films<span class="token operator">:</span> <span class="token punctuation">[</span>Film<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

type Human implements Character <span class="token punctuation">{</span>
  id<span class="token operator">:</span> ID!
  name<span class="token operator">:</span> String!
  persons<span class="token operator">:</span> <span class="token punctuation">[</span>Film<span class="token punctuation">]</span>
  totalCount<span class="token operator">:</span> Int
<span class="token punctuation">}</span>


query HeroForEpisode($personid<span class="token operator">:</span> ID!) <span class="token punctuation">{</span>
  person(personID<span class="token operator">:</span> $personid) <span class="token punctuation">{</span>
    name
    ... on Human <span class="token punctuation">{</span>
      persons
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h1>Designing GraphQL Schemas</h1>
<p>Each of the next subsections is mapped to branches in the <a href="https://github.com/arpith-kp/blogging-graphql.git">Blogging-GraphQL</a> repo starting with <strong>tut-02</strong>, you can checkout each branch and compare it with your version to see if everything is working as expected.</p>
<h2>Setup Environment</h2>
<p>Ensure you have installed <a href="https://nodejs.org/tr/download/package-manager/#macos">NodeJs</a>, <a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/">MongoDb</a>, <a href="https://formulae.brew.sh/formula/postgresql">Postgresql</a>. If you are on Mac, you can install them easily using.</p>
<ul>
<li>
<p>brew install node. </p>
<ul>
<li>
<p>Test you have installed by running </p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">node -v and <span class="token function">npm</span> -v</code></pre></div>
</li>
</ul>
</li>
<li>
<p>brew tap mongodb/brew, brew install mongodb-community@4.4</p>
<ul>
<li>Test you have installed by running <code class="language-text">mongd</code></li>
</ul>
</li>
<li>
<p>brew install postgresql</p>
<ul>
<li>Test you have installed by running <code class="language-text">psql</code></li>
</ul>
</li>
</ul>
<h2>Load Test Data</h2>
<ul>
<li>Install predefined dependencies using <strong>npm i</strong> . </li>
<li>
<p>Once installation completes run scripts <em>loadPgData.sql</em> and <em>loadMongoData.js</em> to load test data.
<br/> -- From CLI you can load data to Postgres as follows</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ createdb blogging
$ psql blogging <span class="token operator">&lt;</span> loadPgData.sql</code></pre></div>
</li>
<li>
<p>ER Diagram for Postgres DB tables</p>
<p align="center">  <img width="500" height="400" src="https://drive.google.com/uc?export=view&amp;id=1goykJL1p-ZsfwhoOWMRqHgMOSNUJM82f">  </p>
</li>
</ul>
<h2>Developing GraphQL Schema</h2>
<h3>Designing simple HelloWorld Schema( Branch <a href="https://github.com/arpith-kp/blogging-graphql/tree/tut-03">tut-03</a>)</h3>
<p>To begin let's design a simple HelloWorld Schema. Detailed descriptions of various types we are about to use are in GraphQL JS <a href="https://graphql.org/graphql-js/type/">docs</a>, take a look at it before starting designing schema.</p>
<p>Final folder structure of this tutorials looks as follows.</p>
<p align="left">  <img width="200" height="400" src="https://drive.google.com/uc?export=view&amp;id=1I6ANbR5qU5TS_1NtGXWfFo7ANhNHfBcx">  </p>
<p>Let's create our root schema in <em>index.js</em> inside <em>schema</em> directory. Each field has a type and resolver function attached to it.</p>

        <div class="gatsby-code-title">
          <span>src/schema/index.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Import helpers</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  GraphQLSchema<span class="token punctuation">,</span>
  GraphQLObjectType<span class="token punctuation">,</span>
  GraphQLString<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Root Query type is your starting point in data graph</span>
<span class="token keyword">const</span> RootQueryType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLObjectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'RootQueryType'</span><span class="token punctuation">,</span>

  fields<span class="token operator">:</span> <span class="token punctuation">{</span>
    hello<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> GraphQLString<span class="token punctuation">,</span>
      <span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">'world'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> nsSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLSchema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  query<span class="token operator">:</span> RootQueryType<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> nsSchema<span class="token punctuation">;</span></code></pre></div>

        <div class="gatsby-code-title">
          <span>src/index.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span>nodeEnv<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lib/util'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Running in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>nodeEnv<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> mode...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Query argument</span>
<span class="token keyword">const</span> queryArg <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ncSchema <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./schema'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>graphql<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Execute the query with our Schema</span>
<span class="token function">graphql</span><span class="token punctuation">(</span>ncSchema<span class="token punctuation">,</span> queryArg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Run index.js script and see if we are getting the expected result.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">node lib/index.js <span class="token punctuation">{</span>hello<span class="token punctuation">}</span></code></pre></div>
<br/>
<h3>Extending Runtime with Express Server (Branch <a href="https://github.com/arpith-kp/blogging-graphql/tree/tut-04">tut-04</a>)</h3>
<ul>
<li>
<p>Install the following dependencies to integrate our application with Express.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token property">"express"</span><span class="token operator">:</span> <span class="token string">"^4.14.0"</span><span class="token punctuation">,</span>
<span class="token property">"express-graphql"</span><span class="token operator">:</span> <span class="token string">"^0.5.3"</span></code></pre></div>
</li>
<li>Modify <em>lib/index.js</em> to an accept connection on port 3000 and you can now start executing your GraphQL queries with embedded GraphIQl IDE.</li>
</ul>

        <div class="gatsby-code-title">
          <span>lib/index.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ncSchema <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../schema'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> graphqlHTTP <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Execute the query</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/graphql'</span><span class="token punctuation">,</span> <span class="token function">graphqlHTTP</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  schema<span class="token operator">:</span> ncSchema<span class="token punctuation">,</span>
  graphiql<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server is listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Building Custom GraphQL Types(Branch <a href="https://github.com/arpith-kp/blogging-graphql/tree/tut-05">tut-05</a>)</h3>
<p>Let's start building custom types to query a single user email based on token ID. Our GraphQL query we are trying to build looks like this.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  user(token<span class="token operator">:</span> <span class="token string">"2222"</span>)<span class="token punctuation">{</span>
    email
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>First, let's add custom <em>UserType</em> under <em>schema/types</em> to accept input fields</p>

        <div class="gatsby-code-title">
          <span>schema/types/user.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  GraphQLObjectType<span class="token punctuation">,</span>
  GraphQLID<span class="token punctuation">,</span>
  GraphQLString<span class="token punctuation">,</span>
  GraphQLNonNull<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLObjectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'UserType'</span><span class="token punctuation">,</span>

  fields<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> GraphQLID<span class="token punctuation">}</span><span class="token punctuation">,</span>
    email<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLNonNull</span><span class="token punctuation">(</span>GraphQLString<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Let's modify our <em>schema/index.js</em> to accept custom type as follows:</p>

        <div class="gatsby-code-title">
          <span>schema/index.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Import helpers</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  GraphQLSchema<span class="token punctuation">,</span>
  GraphQLObjectType<span class="token punctuation">,</span>
  GraphQLString<span class="token punctuation">,</span>
  GraphQLNonNull<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> UserType <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./types/user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pgdb <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../db/pgdb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Root Query type is your starting point in data graph</span>
<span class="token keyword">const</span> RootQueryType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLObjectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'RootQueryType'</span><span class="token punctuation">,</span>

  fields<span class="token operator">:</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> UserType<span class="token punctuation">,</span>
      description<span class="token operator">:</span> <span class="token string">'Current user identified by token id'</span><span class="token punctuation">,</span>
      args<span class="token operator">:</span> <span class="token punctuation">{</span>
        token<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLNonNull</span><span class="token punctuation">(</span>GraphQLString<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token punctuation">{</span>pgPool<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// Read from Postgres DB</span>
        <span class="token keyword">return</span> <span class="token function">pgdb</span><span class="token punctuation">(</span>pgPool<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> nsSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLSchema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  query<span class="token operator">:</span> RootQueryType<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> nsSchema<span class="token punctuation">;</span></code></pre></div>
<p>Change our root <em>index.js</em> to redirect query based on custom type.</p>

        <div class="gatsby-code-title">
          <span>lib.index.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pgp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'pg-promise'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> connectString <span class="token operator">=</span> <span class="token string">'postgres://localhost:5432/blogging'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span>conn <span class="token operator">=</span> <span class="token function">pgp</span><span class="token punctuation">(</span>connectString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pgPool <span class="token operator">=</span> db<span class="token punctuation">.</span>conn<span class="token punctuation">;</span>

<span class="token keyword">const</span> ncSchema <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../schema'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> graphqlHTTP <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Execute the query</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/graphql'</span><span class="token punctuation">,</span> <span class="token function">graphqlHTTP</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  schema<span class="token operator">:</span> ncSchema<span class="token punctuation">,</span>
  graphiql<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  context<span class="token operator">:</span> <span class="token punctuation">{</span>pgPool<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server is listening on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Finally, handle query with database in <em>db/pgdb.js</em></p>

        <div class="gatsby-code-title">
          <span>db/pgdb.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pgPool</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token parameter">tokenId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pgPool<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
          select * from users
          where token_id = $1
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tokenId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> res<span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h3>Mapping CamelCase Field Variables In Query With SnakeCase Columns In DB</h3>
<p>Let's say we want to query on additional fields in User such as firstName and lastName, if we run our query like this we will get a response back as null as the server doesn't know how to map columns in DB.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token comment">// Query: </span>
<span class="token punctuation">{</span>
  user(token<span class="token operator">:</span> <span class="token string">"2222"</span>)<span class="token punctuation">{</span>
    email
    firstName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//Response</span>
<span class="token punctuation">{</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"user"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"arpith@gmail.com"</span><span class="token punctuation">,</span>
      <span class="token property">"firstName"</span><span class="token operator">:</span> <span class="token null keyword">null</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To handle such scenarios we can use library <em>humps</em> (new dependencies are added in <em>package.json</em>) to camelize column names. Let's change  <em>db/pgdb.js</em>.</p>

        <div class="gatsby-code-title">
          <span>db/pgdb.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> humps <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'humps'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pgPool</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token parameter">tokenId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pgPool<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
          select * from users
          where token_id = $1
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tokenId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> humps<span class="token punctuation">.</span><span class="token function">camelizeKeys</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h3>Modeling 1:N Relationships</h3>
<p>Let's say we want to get all the posts a user has written. This kind of querying typically involves more than two tables.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">query userPostsQuery<span class="token punctuation">{</span>
  user(token<span class="token operator">:</span><span class="token string">"1111"</span>)<span class="token punctuation">{</span>
    lastName
    email
    createdAt
    posts<span class="token punctuation">{</span>
     title
     content
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>From the above query it's clear we should add <em>posts</em> field to <em>UserType</em> in <em>schema/types/user.js</em></p>

        <div class="gatsby-code-title">
          <span>schema/types/user.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  GraphQLObjectType<span class="token punctuation">,</span>
  GraphQLID<span class="token punctuation">,</span>
  GraphQLString<span class="token punctuation">,</span>
  GraphQLNonNull<span class="token punctuation">,</span>
  GraphQLList<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pgdb <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../db/pgdb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> PostType <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./post'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLObjectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'UserType'</span><span class="token punctuation">,</span>

  fields<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> GraphQLID<span class="token punctuation">}</span><span class="token punctuation">,</span>
    firstName<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> GraphQLString<span class="token punctuation">}</span><span class="token punctuation">,</span>
    lastName<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> GraphQLString<span class="token punctuation">}</span><span class="token punctuation">,</span>
    email<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLNonNull</span><span class="token punctuation">(</span>GraphQLString<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    createdAt<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> GraphQLString<span class="token punctuation">}</span><span class="token punctuation">,</span>
    posts<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLList</span><span class="token punctuation">(</span>PostType<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token punctuation">{</span>pgPool<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">pgdb</span><span class="token punctuation">(</span>pgPool<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPosts</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Since <em>posts</em> field is of custom type, let's define it under <em>schema/types/post.js</em>.</p>

        <div class="gatsby-code-title">
          <span>schema/types/post.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  GraphQLObjectType<span class="token punctuation">,</span>
  GraphQLID<span class="token punctuation">,</span>
  GraphQLString<span class="token punctuation">,</span>
  GraphQLNonNull<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLObjectType</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'PostType'</span><span class="token punctuation">,</span>

  fields<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> GraphQLID<span class="token punctuation">}</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLNonNull</span><span class="token punctuation">(</span>GraphQLString<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    createdAt<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLNonNull</span><span class="token punctuation">(</span>GraphQLString<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    updatedAt<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLNonNull</span><span class="token punctuation">(</span>GraphQLString<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLNonNull</span><span class="token punctuation">(</span>GraphQLString<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Finally, add support query <em>getPosts</em> in <em>db/pgdb.js</em> to fetch data from DB.</p>

        <div class="gatsby-code-title">
          <span>db/pgdb.js</span>
        </div>
       
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> humps <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'humps'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pgPool</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token parameter">tokenId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pgPool<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
          select * from users
          where token_id = $1
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tokenId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> humps<span class="token punctuation">.</span><span class="token function">camelizeKeys</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pgPool<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        select * from posts
        where author_id=$1
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> humps<span class="token punctuation">.</span><span class="token function">camelizeKeys</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<h2>Summary</h2>
<p>Congratulations, you have reached the end of the Node GraphQL's tutorial. Here you learned about using Node library for developing GraphQL Server.</p>
<p>We have been able to implement a simple BlogPost application and played around implementing various queries. You have learned the benefits of GraphQL on how the client and server can communicate effectively with fewer calls. </p>
<p>If you want to learn more about GraphQL, here are some of the links.</p>
<ul>
<li><a href="https://www.howtographql.com/">How To GraphQL</a> - The Fullstack Tutorial for GraphQL</li>
<li><a href="https://www.pluralsight.com/courses/graphql-scalable-apis">Building Scalable APIs with GraphQL</a> - Video tutorial on GraphQL. This tutorial is inspired by it.</li>
</ul>
<p>For any feedback, you can reach out at my <a href="arpithkp.dev@gmail.com">email</a>.</p></div><div class="sc-bwzfXH fbjpyw"><div class="sc-bdVaJa gXMRqI"><a href="/blog/2018/01/10/fernando-de-noronha"><div class="stylescss__NavigationPost-rezkm6-15 nZKJM"><div> <!-- -->Fernando de Noronha<!-- --> <!-- -->&gt;</div></div></a></div></div></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2021/03/30/graphql_node/graphql_with_node";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-64fd2f77f63c02382f2a.js"],"app":["/app-c05afb588dc1e9590bb7.js"],"component---src-layouts-blog-author-js":["/component---src-layouts-blog-author-js-1a9e6290f40f560d7767.js"],"component---src-layouts-blog-category-js":["/component---src-layouts-blog-category-js-3a26acc7b5cbd5105225.js"],"component---src-layouts-blog-list-js":["/component---src-layouts-blog-list-js-8472ba913c70a04075b2.js"],"component---src-layouts-blog-post-js":["/component---src-layouts-blog-post-js-885b84dd9cc9c3648eb2.js"],"component---src-pages-404-js":["/component---src-pages-404-js-018ef73db21e0bee45b9.js"],"component---src-pages-about-js":["/component---src-pages-about-js-d10cadb7cc58c242d64a.js"],"component---src-pages-index-js":["/component---src-pages-index-js-d12d3c5d1f1a30b2afc3.js"],"component---src-pages-md-js":["/component---src-pages-md-js-13086b3c0f6bf10ced30.js"]};/*]]>*/</script><script src="/polyfill-64fd2f77f63c02382f2a.js" nomodule=""></script><script src="/component---src-layouts-blog-post-js-885b84dd9cc9c3648eb2.js" async=""></script><script src="/3a13ebcfb8a23568fbb000898e86c76a80037eea-f8855085553a27333b4a.js" async=""></script><script src="/f6e0bb3a358b46c2ad9b70959ca2d55f69ab015e-2147d70615c3c7ba9008.js" async=""></script><script src="/app-c05afb588dc1e9590bb7.js" async=""></script><script src="/framework-3c26376ed704cd649e00.js" async=""></script><script src="/webpack-runtime-3333e8ab259f48c19467.js" async=""></script></body></html>